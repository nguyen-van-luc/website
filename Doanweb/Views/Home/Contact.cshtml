@{
    ViewData["Title"] = "Liên hệ";
    Layout = "_Layout";
}

<main class="main-content">

    <!-- Banner -->
    <div class="breadcrumb-area breadcrumb-height"
         data-bg-image="@Url.Content("~/assets/images/breadcrumb/bg/2.jpg")">
        <div class="container h-100">
            <div class="row h-100">
                <div class="col-lg-12">
                    <div class="breadcrumb-item">
                        <h2 class="breadcrumb-heading">Liên hệ với chúng tôi</h2>
                        <ul>
                            <li>
                                <a href="/">Trang chủ <i class="pe-7s-angle-right"></i></a>
                            </li>
                            <li>Liên hệ</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Shipping Info -->
    <div class="shipping-area section-space-y-axis-100">
        <div class="container">
            <div class="row">

                <div class="col-lg-4 col-md-6">
                    <div class="shipping-item">
                        <div class="shipping-img">
                            <img src="assets/images/shipping/icon/plane.png" alt="">
                        </div>
                        <div class="shipping-content">
                            <h5 class="title">Miễn phí giao hàng</h5>
                            <p class="short-desc mb-0">Giao hàng miễn phí toàn quốc</p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6 pt-6 pt-md-0">
                    <div class="shipping-item">
                        <div class="shipping-img">
                            <img src="assets/images/shipping/icon/earphones.png" alt="">
                        </div>
                        <div class="shipping-content">
                            <h5 class="title">Hỗ trợ trực tuyến</h5>
                            <p class="short-desc mb-0">Luôn hỗ trợ khách hàng 24/7</p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6 pt-6 pt-lg-0">
                    <div class="shipping-item">
                        <div class="shipping-img">
                            <img src="assets/images/shipping/icon/shield.png" alt="">
                        </div>
                        <div class="shipping-content">
                            <h5 class="title">Thanh toán an toàn</h5>
                            <p class="short-desc mb-0">Bảo mật thông tin tuyệt đối</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Google Map -->
    <div class="contact-with-map">
        <div class="contact-map">
            <iframe class="contact-map-size"
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d193595.15830869428!2d-74.119763973046!3d40.69766374874431!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c24fa5d33f083b%3A0xc80b8f06e177fe62!2sNew%20York%2C%20NY%2C%20USA!5e0!3m2!1sen!2sbd!4v1613802584124!5m2!1sen!2sbd"></iframe>
        </div>

        <!-- Form -->
        <div class="contact-form-area section-space-bottom-100">
            <div class="container">
                <div class="contact-form-wrap">

                    <h4 class="contact-form-title pb-2 mb-7">Gửi tin nhắn cho chúng tôi</h4>

                    <form id="contact-form" class="contact-form">

                        <div class="form-field">
                            <input type="text" id="c_name" placeholder="Họ và tên *" class="input-field">
                        </div>

                        <div class="form-field mt-3">
                            <input type="text" id="c_phone" placeholder="Số điện thoại *" class="input-field">
                        </div>

                        <div class="form-field mt-3">
                            <input type="email" id="c_email" placeholder="Email *" class="input-field">
                        </div>

                        <div class="form-field mt-3">
                            <textarea id="c_message" placeholder="Nội dung tin nhắn" class="textarea-field"></textarea>
                        </div>

                        <div class="button-wrap mt-8">
                            <button id="c_submit" type="button"
                                    class="btn btn-custom-size lg-size btn-primary btn-secondary-hover rounded-0">
                                Gửi tin nhắn
                            </button>
                        </div>

                        <p id="form-message" class="mt-3 mb-0 text-success" style="display:none;"></p>

                    </form>

                </div>
            </div>
        </div>
    </div>

</main>

@section Scripts {
    <script>
        $(document).ready(function () {

            $("#c_submit").click(function () {

                let name = $("#c_name").val().trim();
                let phone = $("#c_phone").val().trim();
                let email = $("#c_email").val().trim();
                let message = $("#c_message").val().trim();

                if (name === "" || email === "") {
                    toastr.error("Vui lòng nhập đầy đủ thông tin!");
                    return;
                }

                $.ajax({
                    url: "/Contact/Create",
                    method: "POST",
                    data: {
                        name: name,
                        phone: phone,
                        email: email,
                        message: message
                    },
                    success: function (res) {
                        if (res.success === true) {
                            $("#c_name, #c_phone, #c_email, #c_message").val("");
                            toastr.success("Gửi tin nhắn thành công!");
                        } else {
                            toastr.error("Gửi thất bại!");
                        }
                    },
                    error: function () {
                        toastr.error("Không thể kết nối máy chủ!");
                    }
                });

            });

        });
    </script>
}
